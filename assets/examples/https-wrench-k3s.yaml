# yaml-language-server: $schema=https://raw.githubusercontent.com/xenOs76/https-wrench/refs/heads/main/https-wrench.schema.json
# vim: set ts=2 sw=2 tw=0 fo=cnqoj
---
debug: false
verbose: true
requests:
  - name: k3sOs76ViaCaddyDnsDirect
    printResponseHeaders: true
    responseHeadersFilter:
      - Server

    hosts:
      - name: httpbingo.k3s.os76.xyz

  - name: k3sOs76NoLbShouldFail
    transportOverrideUrl: https://rpi501.home.arpa

    # requestDebug: true
    # responseDebug: true
    hosts:
      - name: httpbingo.k3s.os76.xyz
        uriList:
          - /headers

  - name: k3sOs76ViaIstioDnsOverride
    transportOverrideUrl: https://192.168.1.114:30443
    # requestDebug: true
    # responseDebug: true
    # printResponseBody: true
    printResponseHeaders: true
    responseHeadersFilter:
      - Server

    userAgent: wrench-transport-override
    requestHeaders:
      - key: x-api-key
        value: aaa-bbb-ccc

    hosts:
      - name: httpbingo.k3s.os76.xyz
        uriList:
          - /headers
          # - /status/404
          # - /status/503

  - name: k3sOs76ViaNginxDnsOverride
    transportOverrideUrl: https://argo.home.arpa
    # printResponseBody: true
    printResponseHeaders: true
    responseHeadersFilter:
      - Server

    hosts:
      - name: httpbingo.k3s.os76.xyz
        uriList:
          - /headers
